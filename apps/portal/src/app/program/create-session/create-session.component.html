<portal-data-form-container>
	<portal-data-form-section type="form">
		<portal-data-form-field>
			<mat-form-field
				appearance="fill"
				class="full-width">
				<mat-label>Session date</mat-label>
				<input
					matInput
					[matDatepicker]="picker"
					[disabled]="true"
					[formControl]="date"
					placeholder="{{ dateFormat }}" />
				<mat-datepicker-toggle
					matSuffix
					[for]="picker"></mat-datepicker-toggle>
				<mat-datepicker
					#picker
					[disabled]="false"></mat-datepicker>
				<mat-error *ngIf="date.invalid">Required</mat-error>
			</mat-form-field>
		</portal-data-form-field>
		<portal-data-form-field>
			<mat-form-field
				class="full-width"
				appearance="fill">
				<input
					matInput
					placeholder="Exercise"
					[formControl]="exercise"
					[matAutocomplete]="auto" />
				<mat-autocomplete #auto="matAutocomplete">
					<mat-option
						*ngFor="let one of data"
						[value]="one.name"
						>{{ one.name }}</mat-option
					>
				</mat-autocomplete>
				<mat-error *ngIf="exercise.invalid">Select from configured exercises</mat-error>
			</mat-form-field>
		</portal-data-form-field>
		<portal-data-form-field>
			<mat-form-field
				class="full-width"
				appearance="fill">
				<textarea
					matInput
					cdkTextareaAutosize
					class="program"
					[formControl]="program"
					placeholder="{{ 'Program\n5x5@100' }}"></textarea>
				<mat-error *ngIf="program.invalid">{{ 'Incorrect format: {sets}x{reps}@{weight}' }}</mat-error>
			</mat-form-field>
		</portal-data-form-field>
		<portal-data-form-field type="footer">
			<portal-data-form-action
				text="Clear"
				icon="clear_all"
				(click)="clearCurrentExercise()">
			</portal-data-form-action>
			<portal-data-form-action
				text="Add"
				icon="arrow_forward"
				(click)="addExercise()">
			</portal-data-form-action>
		</portal-data-form-field>
	</portal-data-form-section>
	<portal-data-form-section type="list">
		<portal-data-form-field>
			<portal-data-form-list>
				<portal-data-form-list-item *ngFor="let one of exericses; index as idx">
					<portal-data-form-list-info>
						<div class="card-header">
							{{ one.exercise }}
						</div>
						<span *ngFor="let line of one.program.split('\n')">{{ line }}</span>
					</portal-data-form-list-info>
					<portal-data-form-list-actions>
						<portal-data-form-list-action
							icon="delete"
							(click)="removeExercise(idx)">
						</portal-data-form-list-action>
						<portal-data-form-list-action
							icon="arrow_back"
							(click)="copyToCurrent(one)">
						</portal-data-form-list-action>
					</portal-data-form-list-actions>
				</portal-data-form-list-item>
			</portal-data-form-list>
		</portal-data-form-field>
		<portal-data-form-field type="footer">
			<portal-data-form-action
				text="Cancel"
				icon="cancel"
				(click)="cancel()">
			</portal-data-form-action>
			<portal-data-form-action
				text="Save"
				icon="check"
				(click)="submit()">
			</portal-data-form-action>
		</portal-data-form-field>
	</portal-data-form-section>
</portal-data-form-container>
