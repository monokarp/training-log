<div class="wrapper">
	<div class="container form">
		<div class="section">
			<mat-form-field
				appearance="fill"
				class="full-width">
				<mat-label>Session date</mat-label>
				<input
					matInput
					[matDatepicker]="picker"
					[disabled]="true"
					[formControl]="date"
					placeholder="{{ dateFormat }}" />
				<mat-datepicker-toggle
					matSuffix
					[for]="picker"></mat-datepicker-toggle>
				<mat-datepicker
					#picker
					[disabled]="false"></mat-datepicker>
				<mat-error *ngIf="date.invalid">Required</mat-error>
			</mat-form-field>
		</div>
		<div class="section">
			<mat-form-field
				class="full-width"
				appearance="fill">
				<input
					matInput
					placeholder="Exercise"
					[formControl]="exercise"
					[matAutocomplete]="auto" />
				<mat-autocomplete #auto="matAutocomplete">
					<mat-option
						*ngFor="let one of data"
						[value]="one.name"
						>{{ one.name }}</mat-option
					>
				</mat-autocomplete>
				<mat-error *ngIf="exercise.invalid">Select from configured exercises</mat-error>
			</mat-form-field>
		</div>
		<div class="section">
			<mat-form-field
				class="full-width"
				appearance="fill">
				<textarea
					matInput
					cdkTextareaAutosize
					class="program"
					[formControl]="program"
					placeholder="{{ 'Program\n5x5@100' }}"></textarea>
				<mat-error *ngIf="program.invalid">{{ 'Incorrect format: {sets}x{reps}@{weight}' }}</mat-error>
			</mat-form-field>
		</div>
		<div class="section">
			<button
				class="action"
				mat-raised-button
				(click)="clearCurrentExercise()">
				Clear
			</button>
			<button
				class="action"
				mat-raised-button
				color="primary"
				(click)="addExercise()">
				Add
			</button>
		</div>
	</div>
	<div class="container">
		<div class="section">
			<div class="cards">
				<div
					class="card"
					*ngFor="let one of exericses; index as idx">
					<div class="exercise-card">
						<div class="card-header">
							{{ one.exercise }}
						</div>
						<span *ngFor="let line of one.program.split('\n')">{{ line }}</span>
					</div>
					<div class="card-actions">
						<mat-icon
							class="icon"
							(click)="removeExercise(idx)">
							delete
						</mat-icon>
						<mat-icon
							class="icon"
							(click)="copyToCurrent(one)">
							arrow_back
						</mat-icon>
					</div>
				</div>
			</div>
		</div>
		<div class="section footer">
			<button
				class="action"
				mat-raised-button
				(click)="cancel()">
				Cancel
			</button>
			<button
				class="action"
				mat-raised-button
				color="primary"
				(click)="submit()">
				Save
			</button>
		</div>
	</div>
</div>
